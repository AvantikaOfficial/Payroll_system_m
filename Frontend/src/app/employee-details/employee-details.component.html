<app-nav-bar></app-nav-bar>
<div class="page-wrapper">
    <!-- Start Content -->
    <div class="content">
        <!-- start row -->
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <div>
                    <h6 class="mb-3 fs-14"><a href="employees"><i class="ti ti-arrow-left me-1"></i>Employees</a>
                    </h6>
                </div>
                <div class="d-flex align-items-center flex-wrap row-gap-2 mb-3 pb-1 nav-tab-dark" role="tablist">
                    <a href="#nav_tab_1" class="btn btn-sm btn-light border fs-14 active me-2" data-bs-toggle="tab"
                        role="tab">Employment</a>
                    <a href="#nav_tab_2" class="btn btn-sm btn-light border fs-14 me-2" data-bs-toggle="tab"
                        role="tab">Detail</a>
                    <a href="#nav_tab_3" class="btn btn-sm btn-light border fs-14 me-2" data-bs-toggle="tab"
                        role="tab">Document</a>
                    <a href="#nav_tab_4" class="btn btn-sm btn-light border fs-14 me-2" data-bs-toggle="tab"
                        role="tab">Payroll</a>
                    <a href="#nav_tab_5" class="btn btn-sm btn-light border fs-14 me-2" data-bs-toggle="tab"
                        role="tab">Timeoff</a>
                </div>
                <div class="tab-content">
                    <div class="tab-pane show active" id="nav_tab_1" role="tabpanel">
                        <div>
                            <div class="card shadow card-sm mb-3">
                                <div class="card-body">
                                    <!-- start row -->
                                    <div class="row align-items-center gy-3">
                                        <div class="col-md-5">
                                            <div>
                                                <h6 class="fw-semibold fs-14 mb-0">Position</h6>
                                            </div>
                                        </div> <!-- end col -->

                                        <div class="col-md-6">
                                            <div class="d-flex align-items-center">
                                                <span
                                                    class="bg-light border py-1 px-2 rounded fs-13 fw-medium text-primary d-inline-flex me-2">Team
                                                    Lead</span>
                                                <span
                                                    class="bg-light border py-1 px-2 rounded fs-13 fw-medium text-dark d-inline-flex">Permanent</span>
                                            </div>
                                        </div> <!-- end col -->
                                        <div class="col-md-1">
                                            <div class="text-md-end">
                                                <a href="#" class="btn p-1 border-0 btn-outline-white"
                                                    data-bs-toggle="modal" data-bs-target="#edit_position"><i
                                                        class="ti ti-edit"></i></a>
                                            </div>
                                        </div> <!-- end col -->
                                    </div>
                                    <!-- end row -->
                                </div> <!-- end card header -->
                            </div> <!-- end card -->
                            <div class="card shadow card-sm mb-3">
                                <div class="card-body">
                                    <!-- start row -->
                                    <div class="row align-items-center gy-3">
                                        <div class="col-md-5">
                                            <div>
                                                <h6 class="fw-semibold fs-14 mb-0">Manager</h6>
                                            </div>
                                        </div> <!-- end col -->
                                        <div class="col-md-6">
                                            <div class="d-flex align-items-center">
                                                <span class="avatar avatar-sm avatar-rounded flex-shrink-0 me-2"><img
                                                        src="assets/img/managers/manager-01.jpg" alt=""></span>
                                                <p class="mb-0">Braun Kelton</p>
                                            </div>
                                        </div> <!-- end col -->
                                        <div class="col-md-1">
                                            <div class="text-md-end">
                                                <a href="#" class="btn p-1 border-0 btn-outline-white"
                                                    data-bs-toggle="modal" data-bs-target="#edit_manager"><i
                                                        class="ti ti-edit"></i></a>
                                            </div>
                                        </div> <!-- end col -->
                                    </div>
                                    <!-- end row -->
                                </div> <!-- end card header -->
                            </div> <!-- end card -->
                            <div class="card shadow card-sm mb-3">
                                <div class="card-body">
                                    <!-- start row -->
                                    <div class="row align-items-center gy-3">
                                        <div class="col-md-5">
                                            <div>
                                                <h6 class="fw-semibold fs-14 mb-0">Who Reports to James Carter</h6>
                                            </div>
                                        </div> <!-- end col -->
                                        <div class="col-md-6">
                                            <div class="avatar-list-stacked">
                                                <span class="avatar avatar-sm avatar-rounded">
                                                    <img src="assets/img/employees/employee-01.jpg" alt="img">
                                                </span>
                                                <span class="avatar avatar-sm avatar-rounded">
                                                    <img src="assets/img/employees/employee-02.jpg" alt="img">
                                                </span>
                                                <span class="avatar avatar-sm avatar-rounded">
                                                    <img src="assets/img/employees/employee-03.jpg" alt="img">
                                                </span>
                                                <span class="avatar avatar-sm avatar-rounded">
                                                    <img src="assets/img/employees/employee-04.jpg" alt="img">
                                                </span>
                                                <a class="avatar avatar-sm bg-dark fs-14 text-white avatar-rounded"
                                                    href="javascript:void(0);">
                                                    +3
                                                </a>
                                            </div>
                                        </div> <!-- end col -->

                                        <div class="col-md-1">
                                            <div class="text-md-end">
                                                <a href="#" class="btn p-1 border-0 btn-outline-white"
                                                    data-bs-toggle="modal" data-bs-target="#add_people"><i
                                                        class="ti ti-plus"></i></a>
                                            </div>
                                        </div> <!-- end col -->

                                    </div>
                                </div> <!-- end card header -->
                            </div> <!-- end card -->
                            <div class="card shadow card-sm mb-3">
                                <div class="card-body">
                                    <div class="row align-items-center gy-3">
                                        <div class="col-md-5">
                                            <div>
                                                <h6 class="fw-semibold fs-14 mb-0">Office</h6>
                                            </div>
                                        </div> <!-- end col -->
                                        <div class="col-md-6">
                                            <div class="d-flex align-items-center">
                                                <span
                                                    class="avatar avatar-sm rounded-circle flex-shrink-0 bg-light border me-2">
                                                    <img src="assets/img/office/office-01.svg" class="w-auto h-auto"
                                                        alt="img">
                                                </span>
                                                <p class="mb-0">Focus Technolgies</p>
                                            </div>
                                        </div> <!-- end col -->
                                        <div class="col-md-1">
                                            <div class="text-md-end">
                                                <a href="#" class="btn p-1 border-0 btn-outline-white"
                                                    data-bs-toggle="modal" data-bs-target="#edit_office"><i
                                                        class="ti ti-edit"></i></a>
                                            </div>
                                        </div> <!-- end col -->
                                    </div>
                                    <!-- end row -->
                                </div> <!-- end card header -->
                            </div> <!-- end card -->
                            <div class="card shadow card-sm mb-0">
                                <div class="card-body">
                                    <div class="row align-items-center gy-3">
                                        <div class="col-md-5">
                                            <div>
                                                <h6 class="fw-semibold fs-14 mb-0">Working Week</h6>
                                            </div>
                                        </div> <!-- end col -->
                                        <div class="col-md-6">
                                            <div class="d-flex align-items-center flex-wrap gap-2">
                                                <span class="badge badge-soft-success">Mon</span>
                                                <span class="badge badge-soft-success">Tue</span>
                                                <span class="badge badge-soft-success">Wed</span>
                                                <span class="badge badge-soft-success">Thu</span>
                                                <span class="badge badge-soft-success">Fri</span>
                                                <span class="badge badge-soft-danger">Sat</span>
                                                <span class="badge badge-soft-danger">Sun</span>
                                            </div>
                                        </div> <!-- end col -->
                                        <div class="col-md-1">
                                            <div class="text-md-end">
                                                <a href="#" class="btn p-1 border-0 btn-outline-white"
                                                    data-bs-toggle="modal" data-bs-target="#edit_week"><i
                                                        class="ti ti-edit"></i></a>
                                            </div>
                                        </div> <!-- end col -->
                                    </div>
                                </div> <!-- end card header -->
                            </div> <!-- end card -->
                        </div>
                    </div>
                    <div class="tab-pane" id="nav_tab_2" role="tabpanel" *ngIf="employee">
                        <div class="row">
                            <!-- Left Card -->
                            <div class="col-xl-6 d-flex">
                                <div class="card rounded-0 shadow flex-fill mb-xl-0">
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <span class="avatar avatar-xxxl avatar-rounded mb-3">
                                                <img [src]="employee.image ? (backendBaseUrl + employee.image) : 'assets/img/default-avatar.png'"
                                                    alt="Employee">
                                            </span>
                                            <p class="mb-0"><a href="mailto:{{employee.email}}">{{employee.email}}</a>
                                            </p>
                                        </div>
                                        <div class="d-flex align-items-center gap-3 flex-wrap">
                                            <div class="flex-fill">
                                                <div class="bg-light border rounded p-2 text-center">
                                                    <h6 class="fw-semibold fs-14 mb-1">Nationality</h6>
                                                    <p class="mb-0 text-muted fs-13">{{employee.countryOfEmployment}}
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="flex-fill">
                                                <div class="bg-light border rounded p-2 text-center">
                                                    <h6 class="fw-semibold fs-14 mb-1">Date of Birth</h6>
                                                    <p class="mb-0 text-muted fs-13">{{employee.dob | date:'dd MMM
                                                        yyyy'}}</p>
                                                </div>
                                            </div>
                                            <div class="flex-fill">
                                                <div class="bg-light border rounded p-2 text-center">
                                                    <h6 class="fw-semibold fs-14 mb-1">Blood Group</h6>
                                                    <p class="mb-0 text-muted fs-13">{{employee.bloodGroup}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Card -->
                            <div class="col-xl-6 d-flex">
                                <div class="card rounded-0 shadow flex-fill mb-0">
                                    <div class="card-header d-flex align-items-center justify-content-between">
                                        <h6 class="mb-0 fw-bold">Contact Details</h6>
                                        <a href="#" class="btn p-1 border-0 btn-outline-white" data-bs-toggle="modal"
                                            data-bs-target="#edit_contact"><i class="ti ti-edit"></i></a>

                                    </div>
                                    <div class="card-body">
                                        <div>
                                            <div class="bg-light border rounded d-flex align-items-center p-2 mb-3">
                                                <span
                                                    class="btn btn-icon btn-sm bg-white text-dark border flex-shrink-0 me-2">
                                                    <i class="ti ti-phone"></i>
                                                </span>
                                                <span class="fs-14">{{employee.phone}}</span>
                                            </div>
                                            <div class="bg-light border rounded d-flex align-items-center p-2 mb-3">
                                                <span
                                                    class="btn btn-icon btn-sm bg-white text-dark border flex-shrink-0 me-2">
                                                    <i class="ti ti-world"></i>
                                                </span>
                                                <span class="fs-14">{{employee.website}}</span>
                                            </div>
                                            <div class="bg-light border rounded d-flex align-items-center p-2">
                                                <span
                                                    class="btn btn-icon btn-sm bg-white text-dark border flex-shrink-0 me-2">
                                                    <i class="ti ti-brand-linkedin"></i>
                                                </span>
                                                <span class="fs-14">{{employee.linkedin}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane" id="nav_tab_3" role="tabpanel">
                        <div class="card rounded-0 mb-0">
                            <div class="card-header d-flex align-items-center justify-content-between">
                                <h6 class="fw-bold mb-0">Documents</h6>
                                <a href="javascript:void(0);" class="btn btn-primary fs-12 py-1" data-bs-toggle="modal"
                                    data-bs-target="#add_document">
                                    <i class="ti ti-circle-plus me-1"></i>New Document
                                </a>
                            </div>

                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-nowrap border">
                                        <thead class="table-light">
                                            <tr>
                                                <th>Name</th>
                                                <th>Type</th>
                                                <th>Date</th>
                                                <th>Size</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let doc of documents">
                                                <td>{{ doc.name }}</td>
                                                <td>
                                                    <a [href]="doc.filePath" target="_blank">{{ doc.type }}</a>
                                                </td>
                                                <td>{{ doc.date | date:'shortDate' }}</td>
                                                <td>{{ doc.size }}</td>
                                                <td>
                                                    <div class="d-inline-flex align-items-center">
                                                        <!-- Edit button -->
                                                        <a href="javascript:void(0);"
                                                            class="btn btn-icon btn-sm btn-outline-white border-0"
                                                            (click)="openEditDocumentModal(doc)">
                                                            <i class="ti ti-edit"></i>
                                                        </a>

                                                        <!-- Delete button -->
                                                        <a href="javascript:void(0);"
                                                            class="btn btn-icon btn-sm btn-outline-white border-0"
                                                            (click)="deleteDocument(doc)">
                                                            <i class="ti ti-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr *ngIf="documents.length === 0">
                                                <td colspan="5" class="text-center text-muted">No documents found</td>
                                            </tr>
                                            <tr *ngIf="documents.length === 0">
                                                <td colspan="5" class="text-center text-muted">No documents found</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Add Document Modal -->
                    <div class="modal fade" id="add_document" tabindex="-1" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">Upload Document</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="mb-3">
                                        <label class="form-label">Document Name</label>
                                        <input type="text" class="form-control" [(ngModel)]="newDocument.name">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Choose File</label>
                                        <input type="file" class="form-control" (change)="onFileSelected($event)">
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-primary" (click)="uploadDocument()"
                                        data-bs-dismiss="modal">Upload</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="nav_tab_4" role="tabpanel" *ngIf="employee">
                        <div>
                            <div class="card bg-light shadow mb-3">
                                <div class="card-body">
                                    <p class="mb-2">Current Salary
                                        <span class="text-dark">{{ bankDetails.salary || '-' }}</span>
                                    </p>
                                    <p class="mb-2">Bank Name
                                        <span class="text-dark">{{ bankDetails.bankName || '-' }}</span>
                                    </p>
                                    <p class="mb-2">Bank Account Number
                                        <span class="text-dark">{{ bankDetails.bankAccountNo || '-' }}</span>
                                    </p>
                                    <p class="mb-0">Bank IFSC Code
                                        <span class="text-dark">{{ bankDetails.ifscCode || '-' }}</span>
                                    </p>
                                </div>
                            </div>

                            <div class="card rounded-0 mb-0">
                                <div class="card-header d-flex align-items-center justify-content-between">
                                    <h6 class="fw-bold mb-0">Transactions</h6>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-nowrap border">
                                            <thead class="table-light">
                                                <tr>
                                                    <th>Transfer Date</th>
                                                    <th>Amount</th>
                                                    <th>Salary For</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let txn of transactions">
                                                    <!-- Transfer Date -->
                                                    <td>{{ txn.created_at | date:'dd-MMM-yyyy, h:mm a' }}</td>

                                                    <!-- Amount -->
                                                    <td>{{ txn.total | currency:'INR':'symbol' }}</td>

                                                    <!-- Salary For -->
                                                   <td>{{ txn.date | date:'dd-MMM-yyyy' }}</td> 

                                                    <!-- Status -->
                                                    <td>
<span [ngClass]="{
  'status-paid': (txn.status || '').toLowerCase() === 'paid',
  'status-pending': (txn.status || '').toLowerCase() === 'pending'
}">
  {{ txn.status }}
</span>

                                                    </td>
                                                </tr>

                                                <tr *ngIf="transactions.length === 0">
                                                    <td colspan="4" class="text-center text-muted">No transactions found
                                                    </td>
                                                </tr>
                                            </tbody>

                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane" id="nav_tab_5" role="tabpanel">
                        <div class="card rounded-0">
                            <div class="card-header d-flex align-items-center justify-content-between">
                                <h6 class="fw-bold mb-0">Holidays</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-nowrap border">
                                        <thead class="table-light">
                                            <tr>
                                                <th>Date</th>
                                                <th>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>01 Jan 2025</td>
                                                <td class="text-dark">New Year</td>
                                            </tr>
                                            <tr>
                                                <td>19 Feb 2025</td>
                                                <td class="text-dark">President’s Day</td>
                                            </tr>
                                            <tr>
                                                <td>29 Mar 2025</td>
                                                <td class="text-dark">Good Friday</td>
                                            </tr>
                                            <tr>
                                                <td>01 Apr 2025</td>
                                                <td class="text-dark">Easter Monday</td>
                                            </tr>
                                            <tr>
                                                <td>01 May 2025</td>
                                                <td class="text-dark">Labour Day</td>
                                            </tr>
                                            <tr>
                                                <td>15 Aug 2025</td>
                                                <td class="text-dark">Independance Day</td>
                                            </tr>

                                            <tr>
                                                <td>11 Nov 2025</td>
                                                <td class="text-dark">Veterans Day</td>
                                            </tr>
                                            <tr>
                                                <td>25 Dec 2025</td>
                                                <td class="text-dark">Christmas Day</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
<!-- Leave Statistics Cards -->
<div class="row">
  <div class="col-xl-3 col-sm-6 mb-3">
    <div class="card card-sm shadow">
      <div class="card-body d-flex align-items-center">
        <span class="avatar avatar-md bg-secondary me-2">
          <i class="ti ti-calendar-star fs-20"></i>
        </span>
        <div>
          <p class="mb-0">Total Leaves</p>
          <h6 class="fw-semibold fs-16 mb-0">{{ totalLeaves }}</h6>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-3 col-sm-6 mb-3">
    <div class="card card-sm shadow">
      <div class="card-body d-flex align-items-center">
        <span class="avatar avatar-md bg-success me-2">
          <i class="ti ti-calendar-x fs-20"></i>
        </span>
        <div>
          <p class="mb-0">Leaves Taken</p>
          <h6 class="fw-semibold fs-16 mb-0">{{ leavesTaken }}</h6>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-3 col-sm-6 mb-3">
    <div class="card card-sm shadow">
      <div class="card-body d-flex align-items-center">
        <span class="avatar avatar-md bg-orange me-2">
          <i class="ti ti-calendar-x fs-20"></i>
        </span>
        <div>
          <p class="mb-0">Leaves Remaining</p>
          <h6 class="fw-semibold fs-16 mb-0">{{ leavesRemaining }}</h6>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-3 col-sm-6 mb-3">
    <div class="card card-sm shadow">
      <div class="card-body d-flex align-items-center">
        <span class="avatar avatar-md bg-purple me-2">
          <i class="ti ti-smart-home fs-20"></i>
        </span>
        <div>
          <p class="mb-0">Work From Home</p>
          <h6 class="fw-semibold fs-16 mb-0">{{ workFromHome }}</h6>
        </div>
      </div>
    </div>
  </div>
</div>

                        <div class="card rounded-0">
                            <div class="card-header d-flex align-items-center justify-content-between">
                                <h6 class="fw-bold mb-0">Leave Off Details</h6>
                                <a href="javascript:void(0);" class="btn btn-primary fs-12 py-1" data-bs-toggle="modal"
                                    data-bs-target="#add_leave"><i class="ti ti-circle-plus me-1"></i>New Leave</a>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-nowrap border">
                                        <thead class="table-light">
                                            <tr>
                                                <th>Leave Type</th>
                                                <th>From</th>
                                                <th>To</th>
                                                <th>Days</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let leave of leaves">
                                                <td>{{ leave.leave_type }}</td>
                                                <td>{{ leave.start_date | date:'dd MMM yyyy' }}</td>
                                                <td>{{ leave.end_date | date:'dd MMM yyyy' }}</td>
                                                <td>{{ calculateDays(leave.start_date, leave.end_date) }}</td>
                                                <td>{{ leave.status || 'Pending' }}</td>
                                            </tr>
                                        </tbody>

                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="card shadow card-sm bg-light mb-0">
                            <div class="card-body">

                                <!-- start row -->
                                <div class="row align-items-center gy-3">

                                    <div class="col-md-5">
                                        <div>
                                            <h6 class="fw-semibold fs-14 mb-0">Time Off Approver</h6>
                                        </div>
                                    </div> <!-- end col -->

                                    <div class="col-md-6">
                                        <div class="d-flex align-items-center">
                                            <span class="avatar avatar-sm avatar-rounded flex-shrink-0 me-2"><img
                                                    src="assets/img/managers/manager-01.jpg" alt=""></span>
                                            <p class="mb-0">Braun Kelton</p>
                                        </div>
                                    </div> <!-- end col -->

                                    <div class="col-md-1">
                                        <div class="text-md-end">
                                            <a href="#" class="btn p-1 border-0 btn-outline-white"><i
                                                    class="ti ti-edit"></i></a>
                                        </div>
                                    </div> <!-- end col -->

                                </div>
                                <!-- end row -->

                            </div> <!-- end card header -->
                        </div> <!-- end card -->
                    </div>
                </div>
            </div> <!-- end col -->

        </div>
        <!-- end row -->

    </div>
</div>

<!-- ========================
			End Page Content
		========================= -->

<div class="modal fade" id="edit_position">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <div class="page-title">
                    <h6 class="fw-bold mb-0">Edit Position</h6>
                </div>
                <button type="button" class="btn-close custom-btn-close" data-bs-dismiss="modal" aria-label="Close"><i
                        class="ti ti-x"></i></button>
            </div>
            <form action="https://dleohr.dreamstechnologies.com/html/template/employee-details.html">
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Team <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" value="Android Team">
                    </div>
                    <div>
                        <label class="form-label">Employment Type <span class="text-danger">*</span></label>
                        <select class="select">
                            <option>Select</option>
                            <option selected>Permanent</option>
                            <option>Intern</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="d-flex align-items-center justify-content-end">
                        <button type="button" class="btn me-2 btn-light" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div> <!-- end modal -->

<div class="modal fade" id="edit_manager">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <div class="page-title">
                    <h6 class="fw-bold mb-0">Edit Manager</h6>
                </div>
                <button type="button" class="btn-close custom-btn-close" data-bs-dismiss="modal" aria-label="Close"><i
                        class="ti ti-x"></i></button>
            </div>
            <form action="https://dleohr.dreamstechnologies.com/html/template/employee-details.html">
                <div class="modal-body">
                    <div>
                        <label class="form-label">Manager <span class="text-danger">*</span></label>
                        <select class="select">
                            <option>Select</option>
                            <option selected>Victoria Celestie</option>
                            <option>Madison Andrew</option>
                            <option>Ryan Christopher</option>
                            <option>Emily Lauren</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="d-flex align-items-center justify-content-end">
                        <button type="button" class="btn me-2 btn-light" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div> <!-- end modal -->

<div class="modal fade" id="add_people">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <div class="page-title">
                    <h6 class="fw-bold mb-0">Add People</h6>
                </div>
                <button type="button" class="btn-close custom-btn-close" data-bs-dismiss="modal" aria-label="Close"><i
                        class="ti ti-x"></i></button>
            </div>
            <form action="https://dleohr.dreamstechnologies.com/html/template/employee-details.html">
                <div class="modal-body">
                    <div>
                        <label class="form-label">Add Member <span class="text-danger">*</span></label>
                        <input type="text" class="form-control">
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="d-flex align-items-center justify-content-end">
                        <button type="button" class="btn me-2 btn-light" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add People</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div> <!-- end modal -->

<div class="modal fade" id="edit_office">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <div class="page-title">
                    <h6 class="fw-bold mb-0">Edit Office</h6>
                </div>
                <button type="button" class="btn-close custom-btn-close" data-bs-dismiss="modal" aria-label="Close"><i
                        class="ti ti-x"></i></button>
            </div>
            <form action="https://dleohr.dreamstechnologies.com/html/template/employee-details.html">
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Office Name <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" value="Focus Technologies">
                    </div>
                    <div>
                        <label class="form-label">Company Name <span class="text-danger">*</span></label>
                        <select class="select">
                            <option>Select</option>
                            <option selected>Nexa Core Solutions</option>
                            <option>Byte Forge Technologies</option>
                            <option>Code Pulse Innovations</option>
                            <option>Quantum Stack Solutions</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="d-flex align-items-center justify-content-end">
                        <button type="button" class="btn me-2 btn-light" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div> <!-- end modal -->

<div class="modal fade" id="edit_week">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <div class="page-title">
                    <h6 class="fw-bold mb-0">Edit Working Week</h6>
                </div>
                <button type="button" class="btn-close custom-btn-close" data-bs-dismiss="modal" aria-label="Close"><i
                        class="ti ti-x"></i></button>
            </div>
            <form action="https://dleohr.dreamstechnologies.com/html/template/employee-details.html">
                <div class="modal-body">
                    <div class="d-flex align-items-center flex-wrap gap-3">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="customCheck1">
                            <label class="form-check-label fw-normal" for="customCheck1">Mon</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="customCheck2">
                            <label class="form-check-label fw-normal" for="customCheck2">Tue</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="customCheck3">
                            <label class="form-check-label fw-normal" for="customCheck3">Wed</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="customCheck4">
                            <label class="form-check-label fw-normal" for="customCheck4">Thu</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="customCheck5">
                            <label class="form-check-label fw-normal" for="customCheck5">Fri</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="customCheck6">
                            <label class="form-check-label fw-normal" for="customCheck6">Sat</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="customCheck7">
                            <label class="form-check-label fw-normal" for="customCheck7">Sun</label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="d-flex align-items-center justify-content-end">
                        <button type="button" class="btn me-2 btn-light" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div> <!-- end modal -->

<!-- Edit Document Modal -->
<div class="modal fade" id="edit_document" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="fw-bold mb-0">Edit Document</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form (ngSubmit)="updateDocument()" [formGroup]="editDocumentForm">
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Document Name <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" formControlName="name" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Upload Document</label>
                        <input type="file" class="form-control" (change)="onEditFileSelected($event)">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="add_document">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <div class="page-title">
                    <h6 class="fw-bold mb-0">Add New Document</h6>
                </div>
                <button type="button" class="btn-close custom-btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <i class="ti ti-x"></i>
                </button>
            </div>

            <!-- Bind form to Angular (ngSubmit) -->
            <form (ngSubmit)="uploadDocument()" #documentForm="ngForm">
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Document Name <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" required [(ngModel)]="newDocument.name" name="name">
                    </div>

                    <div>
                        <label class="form-label">Upload Document <span class="text-danger">*</span></label>
                        <input type="file" class="form-control" (change)="onFileSelected($event)">
                    </div>
                </div>

                <div class="modal-footer">
                    <div class="d-flex align-items-center justify-content-end">
                        <button type="button" class="btn me-2 btn-light" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary" [disabled]="!selectedFile">Add Document</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="edit_document">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <div class="page-title">
                    <h6 class="fw-bold mb-0">Edit Document</h6>
                </div>
                <button type="button" class="btn-close custom-btn-close" data-bs-dismiss="modal" aria-label="Close"><i
                        class="ti ti-x"></i></button>
            </div>
            <form action="https://dleohr.dreamstechnologies.com/html/template/employee-details.html">
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Document Name <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" value="Appraisal Letter">
                    </div>
                    <div>
                        <label class="form-label">Upload Document <span class="text-danger">*</span></label>
                        <div class="file-uploader">
                            <input type="file" class="form-control">
                            <a href="#" class="input-file">
                                <span class="browse-btn">Browse Files</span>
                                <span class="browse-text">No Files Selected</span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="d-flex align-items-center justify-content-end">
                        <button type="button" class="btn me-2 btn-light" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div> <!-- end modal -->

<!-- Add Leave Modal -->
<div class="modal fade" id="add_leave" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <div class="page-title">
                    <h6 class="fw-bold mb-0">Add New Leave</h6>
                </div>
                <button type="button" class="btn-close custom-btn-close" data-bs-dismiss="modal" aria-label="Close"><i
                        class="ti ti-x"></i></button>
            </div>
            <form [formGroup]="leaveForm" (ngSubmit)="onSubmit()">
                <div class="modal-body">
                    <div class="row">

                        <div class="col-sm-12">
                            <label class="form-label">Employee Name</label>
                            <input type="text" class="form-control"
                                [value]="employee?.firstname + ' ' + employee?.lastName" readonly />

                            <!-- Hidden input for form control -->
                            <input type="hidden" formControlName="employee_id" />
                        </div>


                        <div class="col-sm-6">
                            <div class="mb-3">
                                <label class="form-label">Leave Type <span class="text-danger">*</span></label>
                                <select formControlName="leave_type" class="form-select" required>
                                    <option value="" disabled>Select Leave Type</option>
                                    <option value="Annual Leave">Annual Leave</option>
                                    <option value="Casual Leave">Casual Leave</option>
                                    <option value="Sick Leave">Sick Leave</option>
                                </select>

                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="mb-3">
                                <label class="form-label">Remaining Leaves</label>
                                <input type="text" class="form-control" [value]="remainingLeaves" disabled />
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="mb-3">
                                <label class="form-label">From <span class="text-danger">*</span></label>
                                <input type="date" formControlName="start_date" class="form-control" required />
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="mb-3">
                                <label class="form-label">To <span class="text-danger">*</span></label>
                                <input type="date" formControlName="end_date" class="form-control" required />
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="mb-3">
                                <label class="form-label">Duration <span class="text-danger">*</span></label>
                                <select formControlName="duration" class="form-select" required>
                                    <option value="" disabled selected>Select Duration</option>
                                    <option value="Full Day">Full Day</option>
                                    <option value="First Half">First Half</option>
                                    <option value="Second Half">Second Half</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="mb-3">
                                <label class="form-label">Number of Days Leave</label>
                                <input type="text" class="form-control"
                                    [value]="leaveForm.value.start_date && leaveForm.value.end_date ? calculateDays(leaveForm.value.start_date, leaveForm.value.end_date) : ''"
                                    disabled />


                            </div>
                        </div>

                        <div class="col-sm-12">
                            <div>
                                <label class="form-label">Reason</label>
                                <textarea formControlName="reason" class="form-control" rows="3"></textarea>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="modal-footer">
                    <div class="d-flex align-items-center justify-content-end">
                        <button type="button" class="btn me-2 btn-light" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">{{ isEditMode ? 'Update Leave' : 'Add Leave'
                            }}</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="delete_modal">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content">
            <div class="modal-body text-center">
                <div class="mb-3">
                    <span class="avatar bg-danger"><i class="ti ti-trash fs-24"></i></span>
                </div>
                <h6 class="mb-1">Delete Confirmation</h6>
                <p class="mb-3">Are you sure want to delete document?</p>
                <div class="d-flex justify-content-center">
                    <a href="javascript:void(0);" class="btn btn-outline-white w-100 me-2"
                        data-bs-dismiss="modal">Cancel</a>
                    <a href="employee-details.html" class="btn btn-danger w-100">Yes, Delete</a>
                </div>
            </div>
        </div>
    </div>
</div> <!-- end modal -->